<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Iniciar sesión</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- estilos globales -->
  <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">

  <!-- lo dejo asi por ahora, hay que acomodarlo en la hoja de estilos -->
  <style>
    :root { --fg:#1f2937; --muted:#6b7280; --bg:#f3f4f6; --card:#ffffff; --acc:#1d4ed8; --err:#dc2626; }
    * { box-sizing: border-box; }
    html,body { height:100%; margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color:var(--fg); background:var(--bg); }
    .wrap { display:flex; align-items:center; justify-content:center; min-height:100%; padding:24px; }
    .card { width:100%; max-width:380px; background:var(--card); border-radius:16px; padding:24px; box-shadow: 0 10px 30px rgba(0,0,0,.08); }
    .logo { display:flex; align-items:center; gap:10px; margin-bottom:6px; }
    .logo-badge { width:36px; height:36px; display:grid; place-items:center; border-radius:10px; background:var(--acc); color:white; font-weight:700; }
    h1 { font-size:22px; margin:0 0 16px; }
    .muted { color:var(--muted); font-size:14px; margin-bottom:18px; }
    label { display:block; font-size:14px; margin:12px 0 6px; }
    input { width:100%; padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px; font-size:14px; outline:none; }
    input:focus { border-color: var(--acc); box-shadow: 0 0 0 3px rgba(29,78,216,.15); }
    button { width:100%; margin-top:18px; padding:12px; border:0; border-radius:10px; background:var(--acc); color:#fff; font-weight:600; font-size:15px; cursor:pointer; }
    button:focus { outline:2px solid rgba(29,78,216,.4); outline-offset:2px; }
    .alert { margin:10px 0 0; padding:10px 12px; border-radius:8px; font-size:14px; }
    .alert-error { background:#fee2e2; color:#7f1d1d; border:1px solid #fecaca; }
    .foot { margin-top:14px; text-align:center; font-size:12px; color:var(--muted); }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <div class="card" aria-labelledby="title">
      <div class="logo">
        <div class="logo-badge" aria-hidden="true">A</div>
        <div>
          <div style="font-weight:700; line-height:1;">Aplicación</div>
          <div class="muted">Acceso a administración</div>
        </div>
      </div>
      <h1 id="title">Iniciar sesión</h1>

      {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
          <div class="flash-container" role="status" aria-live="polite">
            {% for category, message in messages %}
              <div class="flash-message flash-{{ category }}">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <form method="post" action="{{ url_for('login', next=request.args.get('next')) }}" autocomplete="on" novalidate>
        <label for="email">Email</label>
        <input id="email" name="email" type="email" inputmode="email" autocomplete="username" required>

        <label for="password">Contraseña</label>
        <input id="password" name="password" type="password" autocomplete="current-password" required>

        <button type="submit">Ingresar</button>
      </form>

      <div class="foot">© {{  now().year if false else '' }}</div>
    </div>
  </div>
</body>
</html>